{% extends 'base.html' %}
{% load staticfiles %}
{% load article_filter %}
{% block header %}
{% endblock header %}

{% block content %}
<div class="container">
  <table class='table table-striped' border="0" cellspacing="5" cellpadding="5" >
    <tr>
      <th>标题</th>
      <th>作者</th>
      <th>内容</th>
      <th>标签</th>
      <th>创建时间</th>
      <th>操作</th>
    </tr>
    {% for article in articles %}
    <tr>
      <td>{{article.title}}</td>
      <td>{{article.author}}</td>
      <td>{{article.content}}</td>
      <td>
        {% for tag in article.tags %}
          {{tag}}
        {% endfor %}
      </td>
      <!--  TODO filter-->
      <td>{{article.created_date}}</td>
      <td>
        <a href="{%url "articles-detail" article.id %}">详情</a>
        <a href="{%url "articles-delete" article.id %}" onclick="javascript:return article_del()">删除</a>
      </td>
    </tr>
    {% endfor %}
  </table>
  <form action="{%url 'articles' %}" method='POST'>
    {% csrf_token %}
    <div class="form-group">
      <input class='form-control' type="text" placeholder='title' name='title' value="{{article.title}}">
    </div>
    <div class="form-group">
      <textarea class='form-control' name="content" rows="8" cols="40" value="{{article.content}}">{{article.content}}</textarea>
    </div>
    <div class="form-group">
      <input class='form-control' type="text" placeholder='tag' name='tags' value="{{article.tags}}">
    </div>
    <button class="btn btn-primary" type="submit">新增文章</button>
  </form>
</div>
{% endblock content %}
